<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: util.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: util.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 *  @module  util
 */
define([
    'jquery',
    'backbone',
    'backboneLocalStorage'
], function(jquery, Backbone, storage) {
    'use strict';

    // use the following URL to force the application to work with local config.json object
    var configURL = {configURL: "https://api.uni-potsdam.de/endpoints/staticContent/2.0/config.json"};
    //var configURL = "https://api.uni-potsdam.de/endpoints/staticContent/2.0/configs.json";

    /**     model for holding the configuration
     *      @name Configuration
     *      @constructor
     *      @augments Backbone.Model
     */
    var Configuration = Backbone.Model.extend({
        // necessary local storage declaration to save a single model; in this case
        // the Configuration model that holds the list of removed appointment titles.
        localStorage : new Store("Configuration"),
        defaults:{
            accessToken: '',
            moodleAccessToken: '',
            notificationsCounter: 0,
            notificationsList: '{"titlesToNotify" : []}',
            appointmentList: '{"removedTitles" : []}',
            moodleServiceEndpoint : '',
            moodleLoginEndpoint : '',
            impressumTemplate: '',
            uniLogoPath: '',
            appLanguage: 'de',
            courseID: '',
            notificationsHash: '{"initialAttribute": ""}',
            pushDetails:''
        }
    });


    /**     Collection - MoodleCollection
     *      @name MoodleCollection
     *      @constructor
     *      @augments Backbone.Collection
     */
    var MoodleCollection = Backbone.Collection.extend({
        processMoodleContents: function(language, stringToAnalize){
            //checking for multi language tags
            var domObj = $($.parseHTML(stringToAnalize));
            var result =stringToAnalize;

            if (domObj.length>1){
                _.each(domObj, function(element){
                    if ($(element)[0].lang == language){
                        result = $(element).html();
                    }
                });
            }
            return result;
        }
    });

    return {
        configURL : configURL,
        Configuration : Configuration,
        MoodleCollection : MoodleCollection
    }

});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-app.html">app</a></li><li><a href="module-push.html">push</a></li><li><a href="module-util.html">util</a></li></ul><h3>Classes</h3><ul><li><a href="module-app-Router.html">Router</a></li><li><a href="module-util-Configuration.html">Configuration</a></li><li><a href="module-util-MoodleCollection.html">MoodleCollection</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Jan 30 2018 11:30:55 GMT+0100 (Mitteleurop√§ische Zeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
